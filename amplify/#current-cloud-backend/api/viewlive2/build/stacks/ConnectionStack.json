{
  "Resources": {
    "ChatGroupChatMessagesauth0FunctionChatGroupChatMessagesauth0FunctionAppSyncFunction6821956B": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackGraphQLAPINONEDS2BA9D1C8Name"
        },
        "Name": "ChatGroupChatMessagesauth0Function",
        "FunctionVersion": "2018-05-29",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/ChatGroup.ChatMessages.auth.1.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson({})"
      }
    },
    "ChatGroupChatMessagesDataResolverFnChatGroupChatMessagesDataResolverFnAppSyncFunction5122EF60": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackChatMessageNestedStackChatMessageNestedStackResource5BA8ED7FOutputstransformerrootstackChatMessageChatMessageDataSource4A587CB8Name"
        },
        "Name": "ChatGroupChatMessagesDataResolverFn",
        "FunctionVersion": "2018-05-29",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/ChatGroup.ChatMessages.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/ChatGroup.ChatMessages.res.vtl"
            ]
          ]
        }
      }
    },
    "ChatGroupChatMessagesResolver": {
      "Type": "AWS::AppSync::Resolver",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "FieldName": "ChatMessages",
        "TypeName": "ChatGroup",
        "Kind": "PIPELINE",
        "PipelineConfig": {
          "Functions": [
            {
              "Fn::GetAtt": [
                "ChatGroupChatMessagesauth0FunctionChatGroupChatMessagesauth0FunctionAppSyncFunction6821956B",
                "FunctionId"
              ]
            },
            {
              "Fn::GetAtt": [
                "ChatGroupChatMessagesDataResolverFnChatGroupChatMessagesDataResolverFnAppSyncFunction5122EF60",
                "FunctionId"
              ]
            }
          ]
        },
        "RequestMappingTemplate": {
          "Fn::Join": [
            "",
            [
              "$util.qr($ctx.stash.put(\"typeName\", \"ChatGroup\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"ChatMessages\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",
              {
                "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
              },
              "\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n$util.qr($ctx.stash.put(\"tableName\", \"",
              {
                "Ref": "referencetotransformerrootstackChatMessageNestedStackChatMessageNestedStackResource5BA8ED7FOutputstransformerrootstackChatMessageChatMessageTable2AF378B2Ref"
              },
              "\"))\n$util.qr($ctx.stash.put(\"authRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackauthRoleNameFB872D50Ref"
              },
              "/CognitoIdentityCredentials\"))\n$util.qr($ctx.stash.put(\"unauthRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackunauthRoleName49F3C1FERef"
              },
              "/CognitoIdentityCredentials\"))\n$util.qr($ctx.stash.put(\"identityPoolId\", \"ca-central-1:8efbb198-c179-4081-ad29-94c6aad1fd40\"))\n$util.qr($ctx.stash.put(\"adminRoles\", [\"ca-central-1_XGhy6ebnp_Full-access/CognitoIdentityCredentials\",\"ca-central-1_XGhy6ebnp_Manage-only/CognitoIdentityCredentials\"]))\n$util.toJson({})"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson($ctx.prev.result)"
      }
    },
    "LocationReviewsauth0FunctionLocationReviewsauth0FunctionAppSyncFunction79D9BD2D": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackGraphQLAPINONEDS2BA9D1C8Name"
        },
        "Name": "LocationReviewsauth0Function",
        "FunctionVersion": "2018-05-29",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/Location.Reviews.auth.1.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson({})"
      }
    },
    "LocationReviewsDataResolverFnLocationReviewsDataResolverFnAppSyncFunction17B5BC02": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackReviewNestedStackReviewNestedStackResource73D7177DOutputstransformerrootstackReviewReviewDataSource924E2306Name"
        },
        "Name": "LocationReviewsDataResolverFn",
        "FunctionVersion": "2018-05-29",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/Location.Reviews.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/Location.Reviews.res.vtl"
            ]
          ]
        }
      }
    },
    "LocationReviewsResolver": {
      "Type": "AWS::AppSync::Resolver",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "FieldName": "Reviews",
        "TypeName": "Location",
        "Kind": "PIPELINE",
        "PipelineConfig": {
          "Functions": [
            {
              "Fn::GetAtt": [
                "LocationReviewsauth0FunctionLocationReviewsauth0FunctionAppSyncFunction79D9BD2D",
                "FunctionId"
              ]
            },
            {
              "Fn::GetAtt": [
                "LocationReviewsDataResolverFnLocationReviewsDataResolverFnAppSyncFunction17B5BC02",
                "FunctionId"
              ]
            }
          ]
        },
        "RequestMappingTemplate": {
          "Fn::Join": [
            "",
            [
              "$util.qr($ctx.stash.put(\"typeName\", \"Location\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"Reviews\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",
              {
                "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
              },
              "\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n$util.qr($ctx.stash.put(\"tableName\", \"",
              {
                "Ref": "referencetotransformerrootstackReviewNestedStackReviewNestedStackResource73D7177DOutputstransformerrootstackReviewReviewTableEAC51F2ARef"
              },
              "\"))\n$util.qr($ctx.stash.put(\"authRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackauthRoleNameFB872D50Ref"
              },
              "/CognitoIdentityCredentials\"))\n$util.qr($ctx.stash.put(\"unauthRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackunauthRoleName49F3C1FERef"
              },
              "/CognitoIdentityCredentials\"))\n$util.qr($ctx.stash.put(\"identityPoolId\", \"ca-central-1:8efbb198-c179-4081-ad29-94c6aad1fd40\"))\n$util.qr($ctx.stash.put(\"adminRoles\", [\"ca-central-1_XGhy6ebnp_Full-access/CognitoIdentityCredentials\",\"ca-central-1_XGhy6ebnp_Manage-only/CognitoIdentityCredentials\"]))\n$util.toJson({})"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson($ctx.prev.result)"
      }
    },
    "BusinessLocationsauth0FunctionBusinessLocationsauth0FunctionAppSyncFunctionBB511F4B": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackGraphQLAPINONEDS2BA9D1C8Name"
        },
        "Name": "BusinessLocationsauth0Function",
        "FunctionVersion": "2018-05-29",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/Business.Locations.auth.1.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson({})"
      }
    },
    "BusinessLocationsDataResolverFnBusinessLocationsDataResolverFnAppSyncFunctionF61C7DD9": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackLocationNestedStackLocationNestedStackResource9BA3A37BOutputstransformerrootstackLocationLocationDataSourceF04DD7AEName"
        },
        "Name": "BusinessLocationsDataResolverFn",
        "FunctionVersion": "2018-05-29",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/Business.Locations.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/Business.Locations.res.vtl"
            ]
          ]
        }
      }
    },
    "BusinessLocationsResolver": {
      "Type": "AWS::AppSync::Resolver",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "FieldName": "Locations",
        "TypeName": "Business",
        "Kind": "PIPELINE",
        "PipelineConfig": {
          "Functions": [
            {
              "Fn::GetAtt": [
                "BusinessLocationsauth0FunctionBusinessLocationsauth0FunctionAppSyncFunctionBB511F4B",
                "FunctionId"
              ]
            },
            {
              "Fn::GetAtt": [
                "BusinessLocationsDataResolverFnBusinessLocationsDataResolverFnAppSyncFunctionF61C7DD9",
                "FunctionId"
              ]
            }
          ]
        },
        "RequestMappingTemplate": {
          "Fn::Join": [
            "",
            [
              "$util.qr($ctx.stash.put(\"typeName\", \"Business\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"Locations\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",
              {
                "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
              },
              "\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n$util.qr($ctx.stash.put(\"tableName\", \"",
              {
                "Ref": "referencetotransformerrootstackLocationNestedStackLocationNestedStackResource9BA3A37BOutputstransformerrootstackLocationLocationTableCDB0D549Ref"
              },
              "\"))\n$util.qr($ctx.stash.put(\"authRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackauthRoleNameFB872D50Ref"
              },
              "/CognitoIdentityCredentials\"))\n$util.qr($ctx.stash.put(\"unauthRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackunauthRoleName49F3C1FERef"
              },
              "/CognitoIdentityCredentials\"))\n$util.qr($ctx.stash.put(\"identityPoolId\", \"ca-central-1:8efbb198-c179-4081-ad29-94c6aad1fd40\"))\n$util.qr($ctx.stash.put(\"adminRoles\", [\"ca-central-1_XGhy6ebnp_Full-access/CognitoIdentityCredentials\",\"ca-central-1_XGhy6ebnp_Manage-only/CognitoIdentityCredentials\"]))\n$util.toJson({})"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson($ctx.prev.result)"
      }
    },
    "LocationLiveSnapauth0FunctionLocationLiveSnapauth0FunctionAppSyncFunctionF74E933C": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackGraphQLAPINONEDS2BA9D1C8Name"
        },
        "Name": "LocationLiveSnapauth0Function",
        "FunctionVersion": "2018-05-29",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/Location.LiveSnap.auth.1.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson({})"
      }
    },
    "LocationLiveSnapDataResolverFnLocationLiveSnapDataResolverFnAppSyncFunction194D80B1": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackLiveSnapNestedStackLiveSnapNestedStackResourceC771BF5BOutputstransformerrootstackLiveSnapLiveSnapDataSource2462C6BFName"
        },
        "Name": "LocationLiveSnapDataResolverFn",
        "FunctionVersion": "2018-05-29",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/Location.LiveSnap.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/Location.LiveSnap.res.vtl"
            ]
          ]
        }
      }
    },
    "LocationLiveSnapResolver": {
      "Type": "AWS::AppSync::Resolver",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "FieldName": "LiveSnap",
        "TypeName": "Location",
        "Kind": "PIPELINE",
        "PipelineConfig": {
          "Functions": [
            {
              "Fn::GetAtt": [
                "LocationLiveSnapauth0FunctionLocationLiveSnapauth0FunctionAppSyncFunctionF74E933C",
                "FunctionId"
              ]
            },
            {
              "Fn::GetAtt": [
                "LocationLiveSnapDataResolverFnLocationLiveSnapDataResolverFnAppSyncFunction194D80B1",
                "FunctionId"
              ]
            }
          ]
        },
        "RequestMappingTemplate": {
          "Fn::Join": [
            "",
            [
              "$util.qr($ctx.stash.put(\"typeName\", \"Location\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"LiveSnap\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",
              {
                "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
              },
              "\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n$util.qr($ctx.stash.put(\"tableName\", \"",
              {
                "Ref": "referencetotransformerrootstackLiveSnapNestedStackLiveSnapNestedStackResourceC771BF5BOutputstransformerrootstackLiveSnapLiveSnapTable98BCE2DBRef"
              },
              "\"))\n$util.qr($ctx.stash.put(\"authRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackauthRoleNameFB872D50Ref"
              },
              "/CognitoIdentityCredentials\"))\n$util.qr($ctx.stash.put(\"unauthRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackunauthRoleName49F3C1FERef"
              },
              "/CognitoIdentityCredentials\"))\n$util.qr($ctx.stash.put(\"identityPoolId\", \"ca-central-1:8efbb198-c179-4081-ad29-94c6aad1fd40\"))\n$util.qr($ctx.stash.put(\"adminRoles\", [\"ca-central-1_XGhy6ebnp_Full-access/CognitoIdentityCredentials\",\"ca-central-1_XGhy6ebnp_Manage-only/CognitoIdentityCredentials\"]))\n$util.toJson({})"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson($ctx.prev.result)"
      }
    }
  },
  "Parameters": {
    "referencetotransformerrootstackGraphQLAPI20497F53ApiId": {
      "Type": "String"
    },
    "referencetotransformerrootstackGraphQLAPINONEDS2BA9D1C8Name": {
      "Type": "String"
    },
    "referencetotransformerrootstackS3DeploymentBucket7592718ARef": {
      "Type": "String"
    },
    "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref": {
      "Type": "String"
    },
    "referencetotransformerrootstackChatMessageNestedStackChatMessageNestedStackResource5BA8ED7FOutputstransformerrootstackChatMessageChatMessageDataSource4A587CB8Name": {
      "Type": "String"
    },
    "referencetotransformerrootstackChatMessageNestedStackChatMessageNestedStackResource5BA8ED7FOutputstransformerrootstackChatMessageChatMessageTable2AF378B2Ref": {
      "Type": "String"
    },
    "referencetotransformerrootstackauthRoleNameFB872D50Ref": {
      "Type": "String"
    },
    "referencetotransformerrootstackunauthRoleName49F3C1FERef": {
      "Type": "String"
    },
    "referencetotransformerrootstackReviewNestedStackReviewNestedStackResource73D7177DOutputstransformerrootstackReviewReviewDataSource924E2306Name": {
      "Type": "String"
    },
    "referencetotransformerrootstackReviewNestedStackReviewNestedStackResource73D7177DOutputstransformerrootstackReviewReviewTableEAC51F2ARef": {
      "Type": "String"
    },
    "referencetotransformerrootstackLocationNestedStackLocationNestedStackResource9BA3A37BOutputstransformerrootstackLocationLocationDataSourceF04DD7AEName": {
      "Type": "String"
    },
    "referencetotransformerrootstackLocationNestedStackLocationNestedStackResource9BA3A37BOutputstransformerrootstackLocationLocationTableCDB0D549Ref": {
      "Type": "String"
    },
    "referencetotransformerrootstackLiveSnapNestedStackLiveSnapNestedStackResourceC771BF5BOutputstransformerrootstackLiveSnapLiveSnapDataSource2462C6BFName": {
      "Type": "String"
    },
    "referencetotransformerrootstackLiveSnapNestedStackLiveSnapNestedStackResourceC771BF5BOutputstransformerrootstackLiveSnapLiveSnapTable98BCE2DBRef": {
      "Type": "String"
    }
  }
}